/*
 Ninja ui JavaScript/CSS Library v0.9.9.9
 http://ninjaui.com/
 Copyright 2010, Jamie Hoover
 Includes jQuery UI draggable and position components
 http://jqueryui.com/
*/
(function(b){if(!b.ui||!b.ui.core||b.ui.version!="1.8.6")(function(c,a){function e(d){return!c(d).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,
NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(d,f){return typeof d==="number"?this.each(function(){var g=this;setTimeout(function(){c(g).focus();f&&f.call(g)},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;d=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,
"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!d.length?c(document):d},zIndex:function(d){if(d!==a)return this.css("zIndex",d);if(this.length){d=c(this[0]);for(var f;d.length&&d[0]!==document;){f=d.css("position");
if(f==="absolute"||f==="relative"||f==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(d,f){function g(k,j,n,o){c.each(h,function(){j-=parseFloat(c.curCSS(k,"padding"+this,true))||0;if(n)j-=parseFloat(c.curCSS(k,
"border"+this+"Width",true))||0;if(o)j-=parseFloat(c.curCSS(k,"margin"+this,true))||0});return j}var h=f==="Width"?["Left","Right"]:["Top","Bottom"],i=f.toLowerCase(),l={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+f]=function(k){if(k===a)return l["inner"+f].call(this);return this.each(function(){c(this).css(i,g(this,k)+"px")})};c.fn["outer"+f]=function(k,j){if(typeof k!=="number")return l["outer"+f].call(this,k);return this.each(function(){c(this).css(i,
g(this,k,true,j)+"px")})}});c.extend(c.expr[":"],{data:function(d,f,g){return!!c.data(d,g[3])},focusable:function(d){var f=d.nodeName.toLowerCase(),g=c.attr(d,"tabindex");if("area"===f){f=d.parentNode;g=f.name;if(!d.href||!g||f.nodeName.toLowerCase()!=="map")return false;d=c("img[usemap=#"+g+"]")[0];return!!d&&e(d)}return(/input|select|textarea|button|object/.test(f)?!d.disabled:"a"==f?d.href||!isNaN(g):!isNaN(g))&&e(d)},tabbable:function(d){var f=c.attr(d,"tabindex");return(isNaN(f)||f>=0)&&c(d).is(":focusable")}});
c(function(){var d=document.body,f=d.appendChild(f=document.createElement("div"));c.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=f.offsetHeight===100;c.support.selectstart="onselectstart"in f;d.removeChild(f).style.display="none"});c.extend(c.ui,{plugin:{add:function(d,f,g){d=c.ui[d].prototype;for(var h in g){d.plugins[h]=d.plugins[h]||[];d.plugins[h].push([f,g[h]])}},call:function(d,f,g){if((f=d.plugins[f])&&d.element[0].parentNode)for(var h=0;h<f.length;h++)d.options[f[h][0]]&&
f[h][1].apply(d.element,g)}},contains:function(d,f){return document.compareDocumentPosition?d.compareDocumentPosition(f)&16:d!==f&&d.contains(f)},hasScroll:function(d,f){if(c(d).css("overflow")==="hidden")return false;var g=f&&f==="left"?"scrollLeft":"scrollTop",h=false;if(d[g]>0)return true;d[g]=1;h=d[g]>0;d[g]=0;return h},isOverAxis:function(d,f,g){return d>f&&d<f+g},isOver:function(d,f,g,h,i,l){return c.ui.isOverAxis(d,g,i)&&c.ui.isOverAxis(f,h,l)}})}})(jQuery);if(!b.ui||!b.ui.widget||b.ui.version!=
"1.8.6")(function(c,a){if(c.cleanData){var e=c.cleanData;c.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++)c(h).triggerHandler("remove");e(f)}}else{var d=c.fn.remove;c.fn.remove=function(f,g){return this.each(function(){if(!g)if(!f||c.filter(f,[this]).length)c("*",this).add([this]).each(function(){c(this).triggerHandler("remove")});return d.call(c(this),f,g)})}}c.widget=function(f,g,h){var i=f.split(".")[0],l;f=f.split(".")[1];l=i+"-"+f;if(!h){h=g;g=c.Widget}c.expr[":"][l]=function(k){return!!c.data(k,
f)};c[i]=c[i]||{};c[i][f]=function(k,j){arguments.length&&this._createWidget(k,j)};g=new g;g.options=c.extend(true,{},g.options);c[i][f].prototype=c.extend(true,g,{namespace:i,widgetName:f,widgetEventPrefix:c[i][f].prototype.widgetEventPrefix||f,widgetBaseClass:l},h);c.widget.bridge(f,c[i][f])};c.widget.bridge=function(f,g){c.fn[f]=function(h){var i=typeof h==="string",l=Array.prototype.slice.call(arguments,1),k=this;h=!i&&l.length?c.extend.apply(null,[true,h].concat(l)):h;if(i&&h.charAt(0)==="_")return k;
i?this.each(function(){var j=c.data(this,f),n=j&&c.isFunction(j[h])?j[h].apply(j,l):j;if(n!==j&&n!==a){k=n;return false}}):this.each(function(){var j=c.data(this,f);j?j.option(h||{})._init():c.data(this,f,new g(h,this))});return k}};c.Widget=function(f,g){arguments.length&&this._createWidget(f,g)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){c.data(g,this.widgetName,this);this.element=c(g);this.options=c.extend(true,{},this.options,
this._getCreateOptions(),f);var h=this;this.element.bind("remove."+this.widgetName,function(){h.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(f,g){var h=f;if(arguments.length===0)return c.extend({},this.options);if(typeof f==="string"){if(g===a)return this.options[f];h={};h[f]=g}this._setOptions(h);return this},_setOptions:function(f){var g=this;c.each(f,function(h,i){g._setOption(h,i)});return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled")this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var i=this.options[f];g=c.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){f=c.event.props.length;for(var l;f;){l=c.event.props[--f];g[l]=g.originalEvent[l]}}this.element.trigger(g,h);return!(c.isFunction(i)&&i.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);if(!b.ui||
!b.ui.mouse||b.ui.version!="1.8.6")(function(c){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(e){return a._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(a._preventClickEvent){a._preventClickEvent=false;e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var e=this,d=a.which==1,f=typeof this.options.cancel=="string"?c(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!d||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}this._mouseMoveDelegate=function(g){return e._mouseMove(g)};this._mouseUpDelegate=function(g){return e._mouseUp(g)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(c.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);
return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=a.target==this._mouseDownEvent.target;this._mouseStop(a)}return false},
_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);if(!b.ui||!b.ui.position||b.ui.version!="1.8.6")(function(c){c.ui=c.ui||{};var a=/left|center|right/,e=/top|center|bottom/,d=c.fn.position,f=c.fn.offset;c.fn.position=
function(g){if(!g||!g.of)return d.apply(this,arguments);g=c.extend({},g);var h=c(g.of),i=h[0],l=(g.collision||"flip").split(" "),k=g.offset?g.offset.split(" "):[0,0],j,n,o;if(i.nodeType===9){j=h.width();n=h.height();o={top:0,left:0}}else if(i.setTimeout){j=h.width();n=h.height();o={top:h.scrollTop(),left:h.scrollLeft()}}else if(i.preventDefault){g.at="left top";j=n=0;o={top:g.of.pageY,left:g.of.pageX}}else{j=h.outerWidth();n=h.outerHeight();o=h.offset()}c.each(["my","at"],function(){var m=(g[this]||
"").split(" ");if(m.length===1)m=a.test(m[0])?m.concat(["center"]):e.test(m[0])?["center"].concat(m):["center","center"];m[0]=a.test(m[0])?m[0]:"center";m[1]=e.test(m[1])?m[1]:"center";g[this]=m});if(l.length===1)l[1]=l[0];k[0]=parseInt(k[0],10)||0;if(k.length===1)k[1]=k[0];k[1]=parseInt(k[1],10)||0;if(g.at[0]==="right")o.left+=j;else if(g.at[0]==="center")o.left+=j/2;if(g.at[1]==="bottom")o.top+=n;else if(g.at[1]==="center")o.top+=n/2;o.left+=k[0];o.top+=k[1];return this.each(function(){var m=c(this),
p=m.outerWidth(),r=m.outerHeight(),t=parseInt(c.curCSS(this,"marginLeft",true))||0,q=parseInt(c.curCSS(this,"marginTop",true))||0,u=p+t+parseInt(c.curCSS(this,"marginRight",true))||0,v=r+q+parseInt(c.curCSS(this,"marginBottom",true))||0,s=c.extend({},o),w;if(g.my[0]==="right")s.left-=p;else if(g.my[0]==="center")s.left-=p/2;if(g.my[1]==="bottom")s.top-=r;else if(g.my[1]==="center")s.top-=r/2;s.left=parseInt(s.left);s.top=parseInt(s.top);w={left:s.left-t,top:s.top-q};c.each(["left","top"],function(x,
y){if(c.ui.position[l[x]])c.ui.position[l[x]][y](s,{targetWidth:j,targetHeight:n,elemWidth:p,elemHeight:r,collisionPosition:w,collisionWidth:u,collisionHeight:v,offset:k,my:g.my,at:g.at})});c.fn.bgiframe&&m.bgiframe();m.offset(c.extend(s,{using:g.using}))})};c.ui.position={fit:{left:function(g,h){var i=c(window);i=h.collisionPosition.left+h.collisionWidth-i.width()-i.scrollLeft();g.left=i>0?g.left-i:Math.max(g.left-h.collisionPosition.left,g.left)},top:function(g,h){var i=c(window);i=h.collisionPosition.top+
h.collisionHeight-i.height()-i.scrollTop();g.top=i>0?g.top-i:Math.max(g.top-h.collisionPosition.top,g.top)}},flip:{left:function(g,h){if(h.at[0]!=="center"){var i=c(window);i=h.collisionPosition.left+h.collisionWidth-i.width()-i.scrollLeft();var l=h.my[0]==="left"?-h.elemWidth:h.my[0]==="right"?h.elemWidth:0,k=h.at[0]==="left"?h.targetWidth:-h.targetWidth,j=-2*h.offset[0];g.left+=h.collisionPosition.left<0?l+k+j:i>0?l+k+j:0}},top:function(g,h){if(h.at[1]!=="center"){var i=c(window);i=h.collisionPosition.top+
h.collisionHeight-i.height()-i.scrollTop();var l=h.my[1]==="top"?-h.elemHeight:h.my[1]==="bottom"?h.elemHeight:0,k=h.at[1]==="top"?h.targetHeight:-h.targetHeight,j=-2*h.offset[1];g.top+=h.collisionPosition.top<0?l+k+j:i>0?l+k+j:0}}}};if(!c.offset.setOffset){c.offset.setOffset=function(g,h){if(/static/.test(c.curCSS(g,"position")))g.style.position="relative";var i=c(g),l=i.offset(),k=parseInt(c.curCSS(g,"top",true),10)||0,j=parseInt(c.curCSS(g,"left",true),10)||0;l={top:h.top-l.top+k,left:h.left-l.left+
j};"using"in h?h.using.call(g,l):i.css(l)};c.fn.offset=function(g){var h=this[0];if(!h||!h.ownerDocument)return null;if(g)return this.each(function(){c.offset.setOffset(this,g)});return f.call(this)}}})(jQuery);if(!b.ui||!b.ui.draggable||b.ui.version!="1.8.6")(function(c){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",
iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},
destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var e=this.options;if(this.helper||e.disabled||c(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var e=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();
if(c.ui.ddmanager)c.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);
this.originalPageX=a.pageX;this.originalPageY=a.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();c.ui.ddmanager&&!e.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,e){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");
if(!e){var d=this._uiHash();if(this._trigger("drag",a,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var e=false;if(c.ui.ddmanager&&!this.options.dropBehaviour)e=c.ui.ddmanager.drop(this,a);if(this.dropped){e=
this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var d=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",a)!==false&&d._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?
this._mouseUp({}):this._clear();return this},_getHandle:function(a){var e=!this.options.handle||!c(this.options.handle,this.element).length?true:false;c(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target)e=true});return e},_createHelper:function(a){var e=this.options;a=c.isFunction(e.helper)?c(e.helper.apply(this.element[0],[a])):e.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(e.appendTo=="parent"?this.element[0].parentNode:
e.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(c.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-
a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.browser.msie)a={top:0,left:0};return{top:a.top+
(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),
10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(a.containment=="document"?document:
window).width()-this.helperProportions.width-this.margins.left,(c(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var e=c(a.containment)[0];if(e){a=c(a.containment).offset();var d=c(e).css("overflow")!="hidden";this.containment=[a.left+(parseInt(c(e).css("borderLeftWidth"),10)||0)+(parseInt(c(e).css("paddingLeft"),10)||
0)-this.margins.left,a.top+(parseInt(c(e).css("borderTopWidth"),10)||0)+(parseInt(c(e).css("paddingTop"),10)||0)-this.margins.top,a.left+(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(c(e).css("borderLeftWidth"),10)||0)-(parseInt(c(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(c(e).css("borderTopWidth"),10)||0)-(parseInt(c(e).css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top]}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,e){if(!e)e=this.position;var d=a=="absolute"?1:-1,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*d-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?
0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(a){var e=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
f=/(html|body)/i.test(d[0].tagName),g=a.pageX,h=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])g=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])h=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])g=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])h=this.containment[3]+this.offset.click.top}if(e.grid){h=
this.originalPageY+Math.round((h-this.originalPageY)/e.grid[1])*e.grid[1];h=this.containment?!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:!(h-this.offset.click.top<this.containment[1])?h-e.grid[1]:h+e.grid[1]:h;g=this.originalPageX+Math.round((g-this.originalPageX)/e.grid[0])*e.grid[0];g=this.containment?!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:!(g-this.offset.click.left<this.containment[0])?g-
e.grid[0]:g+e.grid[0]:g}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:d.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&c.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,e,d){d=d||this._uiHash();c.ui.plugin.call(this,a,[e,d]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return c.Widget.prototype._trigger.call(this,a,e,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.6"});
c.ui.plugin.add("draggable","connectToSortable",{start:function(a,e){var d=c(this).data("draggable"),f=d.options,g=c.extend({},e,{item:d.element});d.sortables=[];c(f.connectToSortable).each(function(){var h=c.data(this,"sortable");if(h&&!h.options.disabled){d.sortables.push({instance:h,shouldRevert:h.options.revert});h._refreshItems();h._trigger("activate",a,g)}})},stop:function(a,e){var d=c(this).data("draggable"),f=c.extend({},e,{item:d.element});c.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=
0;d.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,e){var d=c(this).data("draggable"),f=this;c.each(d.sortables,function(){this.instance.positionAbs=
d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=c(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,
true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=d.offset.click.top;this.instance.offset.click.left=d.offset.click.left;this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top;d._trigger("toSortable",a);d.dropped=this.instance.element;d.currentItem=d.element;this.instance.fromOutside=d}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=
0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();d._trigger("fromSortable",a);d.dropped=false}})}});c.ui.plugin.add("draggable","cursor",{start:function(){var a=c("body"),e=c(this).data("draggable").options;if(a.css("cursor"))e._cursor=
a.css("cursor");a.css("cursor",e.cursor)},stop:function(){var a=c(this).data("draggable").options;a._cursor&&c("body").css("cursor",a._cursor)}});c.ui.plugin.add("draggable","iframeFix",{start:function(){var a=c(this).data("draggable").options;c(a.iframeFix===true?"iframe":a.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")})},
stop:function(){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});c.ui.plugin.add("draggable","opacity",{start:function(a,e){var d=c(e.helper),f=c(this).data("draggable").options;if(d.css("opacity"))f._opacity=d.css("opacity");d.css("opacity",f.opacity)},stop:function(a,e){var d=c(this).data("draggable").options;d._opacity&&c(e.helper).css("opacity",d._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var a=c(this).data("draggable");if(a.scrollParent[0]!=
document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var e=c(this).data("draggable"),d=e.options,f=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!d.axis||d.axis!="x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity)e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop+d.scrollSpeed;else if(a.pageY-e.overflowOffset.top<d.scrollSensitivity)e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop-
d.scrollSpeed;if(!d.axis||d.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity)e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft+d.scrollSpeed;else if(a.pageX-e.overflowOffset.left<d.scrollSensitivity)e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft-d.scrollSpeed}else{if(!d.axis||d.axis!="x")if(a.pageY-c(document).scrollTop()<d.scrollSensitivity)f=c(document).scrollTop(c(document).scrollTop()-d.scrollSpeed);else if(c(window).height()-
(a.pageY-c(document).scrollTop())<d.scrollSensitivity)f=c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed);if(!d.axis||d.axis!="y")if(a.pageX-c(document).scrollLeft()<d.scrollSensitivity)f=c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed);else if(c(window).width()-(a.pageX-c(document).scrollLeft())<d.scrollSensitivity)f=c(document).scrollLeft(c(document).scrollLeft()+d.scrollSpeed)}f!==false&&c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(e,a)}});c.ui.plugin.add("draggable",
"snap",{start:function(){var a=c(this).data("draggable"),e=a.options;a.snapElements=[];c(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var d=c(this),f=d.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:f.top,left:f.left})})},drag:function(a,e){for(var d=c(this).data("draggable"),f=d.options,g=f.snapTolerance,h=e.offset.left,i=h+d.helperProportions.width,l=e.offset.top,k=l+d.helperProportions.height,j=
d.snapElements.length-1;j>=0;j--){var n=d.snapElements[j].left,o=n+d.snapElements[j].width,m=d.snapElements[j].top,p=m+d.snapElements[j].height;if(n-g<h&&h<o+g&&m-g<l&&l<p+g||n-g<h&&h<o+g&&m-g<k&&k<p+g||n-g<i&&i<o+g&&m-g<l&&l<p+g||n-g<i&&i<o+g&&m-g<k&&k<p+g){if(f.snapMode!="inner"){var r=Math.abs(m-k)<=g,t=Math.abs(p-l)<=g,q=Math.abs(n-i)<=g,u=Math.abs(o-h)<=g;if(r)e.position.top=d._convertPositionTo("relative",{top:m-d.helperProportions.height,left:0}).top-d.margins.top;if(t)e.position.top=d._convertPositionTo("relative",
{top:p,left:0}).top-d.margins.top;if(q)e.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left;if(u)e.position.left=d._convertPositionTo("relative",{top:0,left:o}).left-d.margins.left}var v=r||t||q||u;if(f.snapMode!="outer"){r=Math.abs(m-l)<=g;t=Math.abs(p-k)<=g;q=Math.abs(n-h)<=g;u=Math.abs(o-i)<=g;if(r)e.position.top=d._convertPositionTo("relative",{top:m,left:0}).top-d.margins.top;if(t)e.position.top=d._convertPositionTo("relative",{top:p-d.helperProportions.height,
left:0}).top-d.margins.top;if(q)e.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left;if(u)e.position.left=d._convertPositionTo("relative",{top:0,left:o-d.helperProportions.width}).left-d.margins.left}if(!d.snapElements[j].snapping&&(r||t||q||u||v))d.options.snap.snap&&d.options.snap.snap.call(d.element,a,c.extend(d._uiHash(),{snapItem:d.snapElements[j].item}));d.snapElements[j].snapping=r||t||q||u||v}else{d.snapElements[j].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,
a,c.extend(d._uiHash(),{snapItem:d.snapElements[j].item}));d.snapElements[j].snapping=false}}}});c.ui.plugin.add("draggable","stack",{start:function(){var a=c(this).data("draggable").options;a=c.makeArray(c(a.stack)).sort(function(d,f){return(parseInt(c(d).css("zIndex"),10)||0)-(parseInt(c(f).css("zIndex"),10)||0)});if(a.length){var e=parseInt(a[0].style.zIndex)||0;c(a).each(function(d){this.style.zIndex=e+d});this[0].style.zIndex=e+a.length}}});c.ui.plugin.add("draggable","zIndex",{start:function(a,
e){var d=c(e.helper),f=c(this).data("draggable").options;if(d.css("zIndex"))f._zIndex=d.css("zIndex");d.css("zIndex",f.zIndex)},stop:function(a,e){var d=c(this).data("draggable").options;d._zIndex&&c(e.helper).css("zIndex",d._zIndex)}})})(jQuery);b.fn.ninjaButtonCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),icon:null,onDeselect:function(){},onSelect:function(){},radius:b.ninjaRadius,size:null,state:null,title:null},c);return this.each(function(e,d){b(d).data({options:a});b(d).addClass("ninjaPlastic").ninjaRadius({radius:a.radius});
a.size&&$button.css({fontSize:a.size});if(b(d).is("input"))a.title&&b(d).val(a.title);else{a.title&&b(d).text(a.title);if(a.icon){a.title&&b(d).prepend("&#160;");b(d).prepend("<span/>");b("span",d).ninjaIconCreate(a.icon).css({height:b(d).height(),position:"relative",top:"-2px"})}}a.state=="disabled"?b(d).ninjaButtonDisable():b(d).ninjaButtonEnable()})};b.fn.ninjaButtonDeselect=function(c){return this.each(function(a,e){var d=b(e).data().options;b(e).removeClass("ninjaSelected");b(e).attr("type")==
"submit"?b(e).css(d.colors.foregroundSubmit):b(e).css(d.colors.foreground);b(".ninjaIcon",e).ninjaIconLightness();d.onDeselect.call(e,c)})};b.fn.ninjaButtonDisable=function(){return this.each(function(c,a){var e=b(a).data().options;b(a).animate({opacity:0.5}).removeClass("ninjaEnabled").css(e.colors.foregroundDisabled);b(a).is("input")&&b(a).attr("disabled","disabled");b(a).unbind("click")})};b.fn.ninjaButtonEnable=function(){return this.each(function(c,a){var e=b(a).data().options;b(a).animate({opacity:1}).addClass("ninjaEnabled");
b(a).is("input")&&b(a).removeAttr("disabled");if(e.state=="selected"||b(a).hasClass("ninjaSelected"))b(a).addClass("ninjaSelected").css(e.colors.foregroundSelected);else b(a).is("input")&&b(a).attr("type")=="submit"?b(a).css(e.colors.foregroundSubmit):b(a).css(e.colors.foreground);b(".ninjaIcon",a).ninjaIconLightness();b(a).click(function(d){b(a).hasClass("ninjaSelected")?b(a).ninjaButtonDeselect(d):b(a).ninjaButtonSelect(d)})})};b.fn.ninjaButtonSelect=function(c){return this.each(function(a,e){var d=
b(e).data().options;b(e).addClass("ninjaSelected").css(d.colors.foregroundSelected);b(".ninjaIcon",e).ninjaIconLightness();d.onSelect.call(e,c)})};b.ninjaColors={background:{backgroundColor:"#fff",borderColor:"#ccc",color:"#333"},foreground:{backgroundColor:"#ccc",borderColor:"#999",color:"#000"},foregroundDisabled:{backgroundColor:"#ccc",borderColor:"#999",color:"#000"},foregroundEnabled:{backgroundColor:"#999",borderColor:"#666",color:"#000"},foregroundSelected:{backgroundColor:"#c00",borderColor:"#900",
color:"#fff"},foregroundSubmit:{backgroundColor:"#39c",borderColor:"#069",color:"#fff"},rating:{group:"#39c",single:"#c00",unselected:"#999"}};b.ninjaColorsGet=function(c){return b.extend({},b.ninjaColors,c)};b.ninjaColorsSet=function(c){b.extend(b.ninjaColors,c)};b.fn.ninjaLightness=function(){var c=this.css("background-color");if(c!=undefined&&c!==""&&c!="transparent"&&c!="rgba(0, 0, 0, 0)"){var a=function(d){return(299*d[0]+587*d[1]+114*d[2])/1E3},e;return(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))?
a([e[1],e[2],e[3]]):(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))?a([parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55]):(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))?a([parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]):(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))?a([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]):a({aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}[jQuery.trim(c).toLowerCase()])}else{c=this.parent();if(typeof c=="array"&&c.length()>0)c.ninjaLightness();else return 255}};b.fn.ninjaDrawersCreate=function(c){var a=
b.extend({colors:b.ninjaColorsGet(),onClose:function(){},onOpen:function(){},radius:b.ninjaRadius,selected:null},c);this.each(function(e,d){b(d).data({options:a});b(d).hide().addClass("ninjaPaper").css(a.colors.background).before("<div/>");var f=b(d).prev("div").addClass("ninjaPlastic ninjaEnabled").css(a.colors.foreground).text(b(d).attr("title")).prepend("<span/>&#160;");b("span",f).ninjaIconCreate("right").position({at:"left center",of:f,offset:b(f).css("padding-left")+" 0",my:"left center"});
b(f).click(function(){b(f).hasClass("ninjaSelected")?b(d).ninjaDrawersClose():b(d).ninjaDrawersOpen()})});this.first().prev("div.ninjaPlastic").ninjaRadius({corners:"top",radius:a.radius});this.last().css({borderBottomStyle:"solid"}).ninjaRadius({corners:"bottom",radius:a.radius}).prev("div.ninjaPlastic").ninjaRadius({corners:"bottom",radius:a.radius}).addClass("ninjaLast");a.selected!=null&&b(a.selected).ninjaDrawersOpen();return this};b.fn.ninjaDrawersClose=function(){return this.each(function(c,
a){var e=b(a).data().options;e.onClose.call(a);var d=b(a).prev("div.ninjaPlastic"),f=b("span.ninjaIcon",d);b(a).slideUp(function(){b(d).removeClass("ninjaSelected").css(e.colors.foreground);b(f).addClass("ninjaIcon-right").removeClass("ninjaIcon-down");b(d).hasClass("ninjaLast")&&b(d).ninjaRadius({corners:"bottom",radius:e.radius})})})};b.fn.ninjaDrawersOpen=function(){return this.each(function(c,a){var e=b(a).data().options;e.onOpen.call(a);var d=b(a).prev("div.ninjaPlastic"),f=b("span.ninjaIcon",
d);b(d).addClass("ninjaSelected").css(e.colors.foregroundSelected);b(f).addClass("ninjaIcon-down").removeClass("ninjaIcon-right");b(a).slideDown();b(d).hasClass("ninjaLast")&&b(d).ninjaRadius({radius:"0"})})};b.fn.ninjaFilmstripCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),frameHeight:100,frameWidth:100,icon:null,onBack:function(){},onForward:function(){},radius:b.ninjaRadius,seconds:0,show:3,title:null},c),e=this.each(function(j,n){b(n).addClass("ninjaFilmstripFrame").css({borderColor:a.colors.background.borderColor,
height:a.frameHeight,width:a.frameWidth})}).wrapAll('<span class="ninjaFilmstripReel"/>').parent();c=b(e).wrap('<span class="ninjaFilmstripView"/>').parent().css(a.colors.background);var d=b(c).wrap('<div class="ninjaFilmstrip"/>').parent();d=b(d).prepend('<div class="ninjaPlastic ninjaFilmstripBar"/>').find(".ninjaFilmstripBar").css(a.colors.foreground).ninjaRadius({corners:"top",radius:a.radius});a.title&&b(d).text(a.title);if(a.icon){a.title&&b(d).prepend("&#160;");b(d).prepend('<span class="ninjaFilmstripIcon"/>');
b(".ninjaFilmstripIcon",d).ninjaIconCreate(a.icon).css({height:b(d).height(),position:"relative",top:"-2px"})}var f=b(d).prepend('<span class="ninjaFilmstripBack"/>').find(".ninjaFilmstripBack").ninjaButtonCreate({icon:"left"}).ninjaRadius({corners:"topLeft",radius:a.radius}),g=b(d).append('<span class="ninjaFilmstripForward"/>').find(".ninjaFilmstripForward").ninjaButtonCreate({icon:"right"}).ninjaRadius({corners:"topRight",radius:a.radius});frameOuterHeight=a.frameHeight+10;frameOuterWidth=a.frameWidth+
11;b(e).height(frameOuterHeight+"px");b(c).height(frameOuterHeight+"px").width(frameOuterWidth*a.show-1+"px");var h=Math.ceil(this.length/a.show),i=1;b(d).width(frameOuterWidth*a.show-1+"px");b(f).click(function(){if(i==1){b(e).animate({left:"-="+frameOuterWidth*a.show*(h-1)});i=h}else{b(e).animate({left:"+="+frameOuterWidth*a.show});--i}a.onBack.call();b(f).ninjaButtonDeselect()});b(g).click(function(){if(i==h){b(e).animate({left:0});i=1}else{b(e).animate({left:"-="+frameOuterWidth*a.show});++i}a.onForward.call();
b(g).ninjaButtonDeselect()});if(a.seconds>0){var l=a.seconds*1E3,k=0;(function j(){setTimeout(function(){if(k++<h){b(g).click();j()}},l)})()}return this};b.fn.ninjaFoldersCreate=function(c){var a=this,e=b.extend({colors:b.ninjaColorsGet(),direction:"horizontal",onChange:function(){},radius:b.ninjaRadius,selected:b(a)[0]},c),d,f;if(e.direction=="horizontal"){d=this.wrapAll('<div class="ninjaFolders"/>').parent();f=b(d).prepend('<div class="ninjaFoldersTabs"/>').children(".ninjaFoldersTabs")}else{c=
this.wrapAll('<td class="ninjaFoldersColumn"/>').parent();f=b(c).wrapAll('<table cellpadding="0" class="ninjaFolders"><tbody><tr/></tbody></table>').parent().prepend('<td><div class="ninjaFoldersTabs"/></td>').find(".ninjaFoldersTabs");d=b(c).closest(".ninjaFolders")}b(d).data({options:e});this.each(function(g,h){b(h).addClass("ninjaPaper").css(e.colors.background);e.direction=="horizontal"?b(f).append('<span class="ninjaPlastic ninjaEnabled">'+b(h).attr("title")+"</span>"):b(f).append('<div class="ninjaPlastic ninjaEnabled">'+
b(h).attr("title")+"</div>")});b(".ninjaPlastic:first-child",f).addClass("ninjaFoldersFirst").ninjaRadius({corners:"topLeft",radius:e.radius});e.direction=="horizontal"?b(".ninjaPlastic:last-child",f).ninjaRadius({corners:"topRight",radius:e.radius}):b(".ninjaPlastic:last-child",f).ninjaRadius({corners:"bottomLeft",radius:e.radius});b(".ninjaPlastic",f).each(function(g,h){b(h).click(function(){b(a).ninjaFoldersToggle({init:false,selected:b(a)[g]})})});b(document).ready(function(){b(".ninjaPaper",
d).each(function(g,h){b(h).css("min-height",b(f).height())}).ninjaFoldersToggle()});return this};b.fn.ninjaFoldersToggle=function(c){var a=this.parent().closest(".ninjaFolders"),e=b.extend(b(a).data().options,c);e.init===false&&e.onChange.call(b(e.selected));var d;this.each(function(f,g){if(b(g).attr("id")==b(e.selected).attr("id")){b(g).show();d=f}else b(g).hide()});b(".ninjaPlastic",a).each(function(f,g){d==f?b(g).addClass("ninjaSelected").css(e.colors.foregroundSelected):b(g).removeClass("ninjaSelected").css(e.colors.foreground)});
return this};b.fn.ninjaIconAnimate=function(c){var a=b.extend({frames:0,frameCurrent:1,speed:100},c);return this.each(function(e,d){setInterval(function(){if(a.frameCurrent==a.frames)a.frameCurrent=0;b(d).css("backgroundPosition",a.frameCurrent*-16+"px center");a.frameCurrent++},a.speed)})};b.fn.ninjaIconCreate=function(c){c||(c="add");return this.each(function(a,e){b(e).addClass("ninjaIcon ninjaIcon-"+c.toLowerCase()).ninjaIconLightness()})};b.fn.ninjaIconLightness=function(){return this.each(function(c,
a){b(a).parent().ninjaLightness()<125?b(a).addClass("ninjaIconWhite").removeClass("ninjaIconBlack"):b(a).addClass("ninjaIconBlack").removeClass("ninjaIconWhite")})};b.fn.ninjaMenuCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),icon:null,onSelect:function(){},radius:b.ninjaRadius,title:null,values:[]},c);return this.each(function(e,d){b(d).addClass("ninjaMenu").append('<div class="ninjaMenuButton"/><div class="ninjaMenuChoices"/>');var f=b(".ninjaMenuChoices",d);b(a.values).each(function(h,
i){b(f).append('<div class="ninjaPlastic ninjaEnabled ninjaMenuChoice">'+i+"</span>")});b(".ninjaMenuChoice",f).each(function(h,i){b(i).css(a.colors.foreground).mouseover(function(){b(i).css(a.colors.foregroundSelected)}).mouseleave(function(){b(i).css(a.colors.foreground)}).click(function(){a.onSelect.call(b(i));b(g).ninjaButtonDeselect({onDeselect:b(f).slideUp()})})});b(".ninjaMenuChoice:first-child",f).ninjaRadius({corners:"top",radius:a.radius});b(".ninjaMenuChoice:last-child",f).ninjaRadius({corners:"bottom",
radius:a.radius});var g=b(".ninjaMenuButton",d).ninjaButtonCreate({icon:a.icon,onDeselect:function(){b(f).slideUp()},onSelect:function(){b(f).mouseleave(function(){b(g).ninjaButtonDeselect({onDeselect:b(f).slideUp()})}).slideDown();b(document).keyup(function(h){if(h.keyCode==27){b(g).ninjaButtonDeselect({onDeselect:b(f).slideUp()});b(document).unbind("keyup")}})},title:a.title}).append('&#160;<span class="ninjaMenuIcon"/>');b(".ninjaMenuIcon",g).ninjaIconCreate("down").css({height:b(g).height(),position:"relative",
top:"-2px"});b(f).ninjaRadius({radius:a.radius}).css({top:b(g).outerHeight()})})};b.ninjaMessageOpen=function(c){c=b.extend({colors:b.ninjaColorsGet(),content:"",icon:null,onClose:function(){},onOpen:function(){},radius:b.ninjaRadius,seconds:0,title:null},c);var a=b(document.body).append('<div class="ninjaMessage"/>').find(".ninjaMessage").css({opacity:0.75}).append('<div class="ninjaPlastic"/><div class="ninjaPaper"/><div class="ninjaMessageReflection"/>'),e=null;if(c.seconds>0)e=setTimeout(function(){b(a).ninjaMessageClose()},
c.seconds*1E3);b(a).data({options:c});var d=b(".ninjaPlastic",a).css(c.colors.foreground);c.title&&b(d).text(c.title);if(c.icon){c.title&&b(d).prepend("&#160;");b(d).prepend('<span class="ninjaMessageIcon"/>');b(".ninjaMessageIcon",d).ninjaIconCreate(c.icon).css({height:b(d).height(),position:"relative",top:"-2px"})}b(d).append('<span class="ninjaMessageClose"/>');b(".ninjaMessageClose",d).ninjaButtonCreate({colors:c.colors,icon:"remove",onSelect:function(){b(a).ninjaMessageClose(e)}}).ninjaRadius({radius:"0"});
b(".ninjaPaper",a).html(c.content).css(c.colors.foreground).ninjaRadius({corners:"bottom",radius:c.radius});c.onOpen.call(a);b(".ninjaMessageReflection").css(c.colors.foreground).ninjaRadius({radius:c.radius}).position({at:"left bottom",of:a,my:"left top"}).css({opacity:0.125});b(document).keyup(function(f){if(f.keyCode==27){b(a).ninjaMessageClose(e);b(document).unbind("keyup")}});b(a).position({at:"top",collision:"fit none",of:window,my:"top"}).slideDown("slow")};b.fn.ninjaMessageClose=function(c){return this.each(function(a,
e){clearTimeout(c);var d=b(e).data().options;b(e).slideUp("slow",function(){d.onClose.call();b(e).remove()})})};b.fn.ninjaNavigationCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),radius:b.ninjaRadius},c);return this.each(function(e,d){b(d).addClass("ninjaPlastic ninjaNavigation").css(a.colors.foreground).ninjaRadius({radius:a.radius})})};b.fn.ninjaPanelCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),icon:null,radius:b.ninjaRadius,title:null},c);return this.each(function(e,
d){b(d).addClass("ninjaPaper ninjaPanel").css(a.colors.background).ninjaRadius({radius:a.radius});if(a.icon||a.title){b(d).prepend('<div class="ninjaPanelBar ninjaPlastic"/>');var f=b(".ninjaPanelBar",d).css(a.colors.foreground).ninjaRadius({corners:"top",radius:a.radius});a.title&&b(f).text(a.title);if(a.icon){a.title&&b(f).prepend("&#160;");b(f).prepend('<span class="ninjaPanelIcon"/>');b(".ninjaPanelIcon",d).ninjaIconCreate(a.icon).css({height:b(f).height(),position:"relative",top:"-2px"})}}})};
b.ninjaRadius="0.5em";b.fn.ninjaRadius=function(c){c=b.extend({corners:null,radius:b.ninjaRadius},c);var a;a=c.corners=="bottom"?[0,0,c.radius,c.radius]:c.corners=="bottomLeft"?[0,0,0,c.radius]:c.corners=="bottomRight"?[0,0,c.radius,0]:c.corners=="left"?[c.radius,0,0,c.radius]:c.corners=="right"?[0,c.radius,c.radius,0]:c.corners=="top"?[c.radius,c.radius,0,0]:c.corners=="topLeft"?[c.radius,0,0,0]:c.corners=="topRight"?[0,c.radius,0,0]:[c.radius,c.radius,c.radius,c.radius];return this.each(function(e,
d){if(document.body.style.borderRadius!==undefined)a[0]==a[1]&&a[0]==a[2]&&a[0]==a[3]?b(d).css({"border-radius":a[0]}):b(d).css({"border-radius":a[0]+" "+a[1]+" "+a[2]+" "+a[3]});else if(document.body.style.WebkitBorderRadius!==undefined)b(d).css({"-webkit-border-top-left-radius":a[0],"-webkit-border-top-right-radius":a[1],"-webkit-border-bottom-right-radius":a[2],"-webkit-border-bottom-left-radius":a[3]});else if(document.body.style.MozBorderRadius!==undefined)b(d).css({"-moz-border-radius-topleft":a[0],
"-moz-border-radius-topright":a[1],"-moz-border-radius-bottomright":a[2],"-moz-border-radius-bottomleft":a[3]});else document.body.style.KhtmlBorderRadius!==undefined&&b(d).css({"-khtml-border-top-left-radius":a[0],"-khtml-border-top-right-radius":a[1],"-khtml-border-bottom-right-radius":a[2],"-khtml-border-bottom-left-radius":a[3]})})};b.fn.ninjaRatingCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),entity:"&#9733;",maximum:5,onChange:function(){},selectedGroup:0,selectedSingle:0},c);
return this.each(function(e,d){for(e=1;e<=a.maximum;e++)b(d).append('<span class="ninjaRatingStar">'+a.entity+"</span>");b(d).addClass("ninjaRating").data({options:a}).ninjaRatingUpdate().mouseleave(function(){b(d).ninjaRatingUpdate()});b(".ninjaRatingStar",d).each(function(f,g){navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)&&b(g).css("font-size","18px");b(g).mouseenter(function(){b(d).ninjaRatingUpdate({selectedSingle:f+1})}).click(function(){b.extend(b(d).data().options,{selectedSingle:f+
1});b(d).ninjaRatingUpdate();a.onChange.call({maximum:a.maximum,selected:a.selectedSingle})})})})};b.fn.ninjaRatingUpdate=function(c){return this.each(function(a,e){var d=b.extend({},b(e).data().options,c);b(".ninjaRatingStar",e).each(function(f,g){if(d.selectedSingle>f)b(g).css({color:d.colors.rating.single});else d.selectedGroup>f?b(g).css({color:d.colors.rating.group}):b(g).css({color:d.colors.rating.unselected})})})};b.fn.ninjaSliderCreate=function(c){var a=b.extend({colors:b.ninjaColorsGet(),
onStop:function(){},onUpdate:function(){},names:null,radius:b.ninjaRadius,selected:null,values:null,title:null,width:100},c);return this.each(function(e,d){var f=b(d).attr("id");a.title&&b(d).append('<div class="ninjaSliderTitle">'+a.title+"</div>");b(d).addClass("ninjaSlider").css(a.colors.background).ninjaRadius({radius:a.radius}).data({options:a});var g=a.selected||a.values[0];if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)){b(d).append('<select name="'+f+'"/>');var h=b("select",
d);b.each(a.values,function(q,u){b(h).append('<option value="'+u+'">'+(a.names[q]||u)+"</option>")});b(h).val(g).width(a.width+"px").change(function(){var q=b(":selected",h);a.onStop.call({selectedName:b(q).text(),selectedValue:b(q).attr("value")})})}else{var i=a.values.length,l=Math.round(a.width/i),k=b.inArray(g,a.values),j=a.names[k]||g;b(d).append('<input type="hidden"/><div class="ninjaSliderContainer"><div class="ninjaSliderTrack"><div class="ninjaSliderLevel"/></div><span class="ninjaPlastic ninjaEnabled ninjaSliderButton"/></div><div class="ninjaSliderText"/>');
var n=b(".ninjaSliderButton",d).css(a.colors.foreground).ninjaRadius({radius:"0.8em"}),o=Math.round(b(n).outerWidth()/2);i=l*(i-1);o=b(".ninjaSliderContainer",d).width(i+o*2+"px");var m=b(".ninjaSliderTrack",d).width(i+"px").position({at:"center center",collision:"none none",of:o,my:"center center"}).ninjaRadius({radius:"0.5em"}).css(a.colors.foreground),p=b(".ninjaSliderText",d).width(i+"px").text(j),r=b(".ninjaSliderLevel",m).ninjaRadius({radius:"0.35em"}).css(a.colors.foregroundSelected).width(k*
l+"px"),t=b("input",d).attr("name",f);b(n).position({at:"left center",collision:"none none",of:o,offset:k*l+" 0",my:"left center"}).draggable({addClasses:false,axis:"x",containment:o,drag:function(){k=Math.round(b(n).position().left/l);g=a.values[k];j=a.names[k]||g;b(r).width(k*l+"px");b(p).text(j)},distance:l,grid:[l,0],scroll:false,stop:function(){b(t).val(g);a.onStop.call({selectedName:j,selectedValue:g})}})}})};b.fn.ninjaSliderUpdate=function(c){return this.each(function(a,e){var d=b.extend(b(e).data().options,
c),f=d.selected||d.values[0],g=Math.round(d.width/d.values.length),h=b.inArray(f,d.values),i=d.names[h]||f;d.onUpdate.call({selectedName:i,selectedValue:f});if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/))b("select",e).val(f);else{d=b(".ninjaSliderContainer",e);b(".ninjaSliderButton",e).position({at:"left center",collision:"none",of:d,offset:h*g+" 0",my:"left"});b(".ninjaSliderLevel",e).width(h*g+"px");b(".ninjaSliderText",e).text(i)}})};b.fn.ninjaTabsCreate=function(c){c=b.extend({colors:b.ninjaColorsGet(),
id:null,onChange:function(){},radius:b.ninjaRadius,selected:this[0],side:null},c);var a=this.wrapAll("<span/>").parent().addClass("ninjaTabs").data({options:c});this.each(function(e,d){b(d).addClass("ninjaPlastic ninjaEnabled ninjaTab").click(function(){b(a).ninjaTabsToggle({init:false,selected:b(d)})});if(b(d).attr("title")){b(d).prepend("<span/>&#160;");b("span",d).ninjaIconCreate(b(d).attr("title")).css({height:b(d).height(),position:"relative",top:"-2px"})}});if(c.side=="left")b(".ninjaTab:first-child",
a).ninjaRadius({corners:"left",radius:c.radius}).addClass("ninjaFirst");else{c.side!="right"&&b(".ninjaTab:first-child",a).ninjaRadius({corners:"left",radius:c.radius}).addClass("ninjaFirst");b(".ninjaTab:last-child",a).ninjaRadius({corners:"right",radius:c.radius})}b(".ninjaTab:first-child",a).ninjaRadius({corners:"left",radius:c.radius}).addClass("ninjaFirst");b(a).ninjaTabsToggle();return this};b.fn.ninjaTabsToggle=function(c){return this.each(function(a,e){var d=b.extend(b(e).data().options,c);
d.init===false&&d.onChange.call(b(d.selected));d.onChange.call();b(".ninjaTab",e).each(function(f,g){b(d.selected).attr("id")==b(g).attr("id")?b(g).addClass("ninjaSelected").css(d.colors.foregroundSelected):b(g).removeClass("ninjaSelected").css(d.colors.foreground);var h=b(".ninjaIcon",g);b(g).ninjaLightness()<125?b(h).addClass("ninjaIconWhite").removeClass("ninjaIconBlack"):b(h).addClass("ninjaIconBlack").removeClass("ninjaIconWhite")})})};b.ninjaWaitStart=function(c){var a=b.extend({colors:b.ninjaColorsGet(),
id:null,onStop:function(){},radius:b.ninjaRadius,seconds:0,text:"Updating..."},c);b(document.body).append('<div class="ninjaWaitOverlay"/><div class="ninjaWaitFrame"/>');c=b(".ninjaWaitOverlay").css({opacity:0});var e=b(".ninjaWaitFrame").attr("id",a.id).css(a.colors.background).text(a.text).prepend('<span class="ninjaWaitIcon"/>&#160;').ninjaRadius({radius:a.radius}).append('<div class="ninjaWaitReflection"/>').data({options:a});b(".ninjaWaitReflection").css(a.colors.background).ninjaRadius({radius:a.radius}).position({at:"left bottom",
of:e,my:"left top"}).css({opacity:0.125});b(e).ninjaLightness()<125?b(c).css({backgroundColor:"#fff"}):b(c).css({backgroundColor:"#000"});var d=b(".ninjaWaitIcon",e),f;f=b.browser.mozilla?"0 "+b(window).scrollTop():0;b(c).css({height:b(document.body).height(),width:b(window).width()}).animate({opacity:0.5},function(){b(e).position({at:"center",collision:"fit none",of:window,offset:f,my:"center"}).fadeIn(function(){b(d).ninjaIconAnimate({frames:12});a.seconds>0&&setTimeout(function(){b(e).ninjaWaitStop()},
a.seconds*1E3)})});return this};b.fn.ninjaWaitStop=function(){return this.each(function(c,a){var e=b(a).data().options,d=b(a).prev(".ninjaWaitOverlay");b(a).fadeOut(function(){b(d).fadeOut(function(){e.onStop.call();b(a).remove();b(d).remove()})})})};b.ninjaWindowOpen=function(c){var a=b.extend({colors:b.ninjaColorsGet(),icon:null,id:null,onClose:function(){},onOpen:function(){},radius:b.ninjaRadius,title:null,url:null,width:null},c);b(document.body).append('<div class="ninjaWindowOverlay"/><div class="ninjaWindowFrame"/>');
var e=b(".ninjaWindowOverlay").css({opacity:0}).css(a.colors.background),d=b(".ninjaWindowFrame").attr("id",a.id).append('<div class="ninjaPlastic ninjaWindowHandle"/><div class="ninjaPaper ninjaWindowContent"/><div class="ninjaWindowReflection"/>').data({options:a});a.width&&b(d).css({minWidth:a.width});var f=b(".ninjaWindowHandle",d).css(a.colors.foreground).ninjaRadius({corners:"top",radius:a.radius});a.title&&b(f).text(a.title);if(a.icon){a.title&&b(f).prepend("&#160;");b(f).prepend('<span class="ninjaWindowIcon"/>');
b(".ninjaWindowIcon",f).ninjaIconCreate(a.icon).css({height:b(f).height(),position:"relative",top:"-2px"})}b(f).append('<span class="ninjaWindowClose"/>');b(".ninjaWindowClose",f).ninjaButtonCreate({icon:"remove",onSelect:function(){b(d).ninjaWindowClose()}}).ninjaRadius({corners:"topRight",radius:a.radius});var g=b(".ninjaWindowContent",d).css(a.colors.background).ninjaRadius({corners:"bottom",radius:a.radius});b(g).ninjaLightness()<125?b(e).css({backgroundColor:"#fff"}):b(e).css({backgroundColor:"#000"});
b(document).keyup(function(h){if(h.keyCode==27){b(d).ninjaWindowClose();b(document).unbind("keyup")}});b(d).click(function(h){h.stopPropagation()}).draggable({containment:"document",cursor:"pointer",handle:b(f)});b(g).load(a.url,function(){b(e).css({height:b(document).height(),width:b(window).width()}).animate({opacity:0.5},function(){var h=b(d).width();b(f).innerWidth(h);b(g).innerWidth(h);h=b.browser.mozilla?b(window).scrollTop()+20:20;b(d).position({at:"center top",collision:"fit none",of:window,
offset:"0 "+h,my:"center top"}).fadeIn(function(){a.onOpen.call(g)})});b(".ninjaWindowReflection").css(a.colors.background).ninjaRadius({radius:a.radius}).position({at:"left bottom",of:d,my:"left top"}).css({opacity:0.125})});return d};b.fn.ninjaWindowClose=function(){return this.each(function(c,a){var e=b(a).data().options,d=b(a).prev(".ninjaWindowOverlay");b(a).fadeOut(function(){b(d).fadeOut(function(){e.onClose.call();b(a).remove();b(d).remove()})})})};b.fn.ninjaWindowRetitle=function(c){return this.each(function(a,
e){var d=b.extend(b(e).data().options,{onRetitle:function(){}},c);b(".ninjaWindowHandle",e).text(d.title);b(".ninjaWindowIcon",e).attr({"class":""}).ninjaIconCreate(d.icon);d.onRetitle.call()})}})(jQuery);
